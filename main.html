<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MD Dashboard - HS Smart Attendance System</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    .summary-card {
      background: #f8f9fa;
      border-radius: 10px;
      padding: 18px 22px;
      margin-bottom: 28px;
      box-shadow: 0 2px 8px #e3e3e3;
    }
    .chat-box-md {
      background: #e3f2fd;
      border-radius: 8px;
      padding: 10px 14px;
      margin-bottom: 8px;
    }
    .complaint-list {
      max-height: 180px;
      overflow-y: auto;
    }
    .performance-table th, .performance-table td {
      vertical-align: middle;
      text-align: center;
    }
    .section-title {
      margin-bottom: 18px;
      margin-top: 18px;
    }
  </style>
</head>
<body>
  <!-- Top Navbar -->
  <nav class="navbar navbar-dark bg-primary fixed-top" style="height: 56px;">
    <div class="container-fluid">
      <span class="navbar-brand">HINDU SHIKSHA SAMITI - MD Dashboard</span>
      <span class="navbar-text text-white ms-auto">MD Portal</span>
    </div>
  </nav>

  <main class="content pt-5" style="margin-left:0;">
    <div class="container mt-4">
      <!-- Summary Section -->
      <div class="summary-card">
        <h4><i class="bi bi-bar-chart-line me-2"></i>Overall Summary</h4>
        <div class="row">
          <div class="col-md-3">
            <div class="alert alert-info mb-2">
              <b>Total Students:</b> 1200
            </div>
          </div>
          <div class="col-md-3">
            <div class="alert alert-success mb-2">
              <b>Total Teachers:</b> 55
            </div>
          </div>
          <div class="col-md-3">
            <div class="alert alert-warning mb-2">
              <b>Attendance Rate:</b> 96%
            </div>
          </div>
          <div class="col-md-3">
            <div class="alert alert-primary mb-2">
              <b>Complaints (Open):</b> 7
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4">
            <div class="al            backend/
            │
            ├── server.js                # Main entry point (Express app)
            ├── config/
            │   └── db.js                # MongoDB connection setup
            │
            ├── models/
            │   ├── User.js              # User schema (student, teacher, hr, md)
            │   ├── Chat.js              # Chat schema
            │   ├── Complaint.js         # Complaint schema
            │   ├── Report.js            # Report schema
            │   ├── StudentPerformance.js# Student performance schema
            │   └── TeacherPerformance.js# Teacher performance schema
            │
            ├── routes/
            │   ├── auth.js              # Login/auth routes
            │   ├── chat.js              # Chat routes
            │   ├── complaints.js        # Complaints routes
            │   ├── reports.js           # Reports routes
            │   ├── performance.js       # Performance routes
            │   └── ...                  # Add more as needed
            │
            ├── controllers/
            │   ├── authController.js
            │   ├── chatController.js
            │   ├── complaintsController.js
            │   ├── reportsController.js
            │   ├── performanceController.js
            │   └── ...                  # Add more as needed
            │
            ├── middleware/
            │   └── authMiddleware.js    # (Optional) For protected routes
            │
            ├── package.json
            └── README.mdert alert-secondary mb-2">
              <b>Fees Collected:</b> ₹34,50,000
            </div>
          </div>
          <div class="col-md-4">
            <div class="alert alert-secondary mb-2">
              <b>Salary Paid:</b> ₹3,35,000
            </div>
          </div>
          <div class="col-md-4">
            <div class="alert alert-secondary mb-2">
              <b>Pending Salary:</b> ₹20,000
            </div>
          </div>
        </div>
      </div>

      <!-- Chatbox Section -->
      <div class="summary-card">
        <h4 class="section-title"><i class="bi bi-chat-dots me-2"></i>MD Chatbox</h4>
        <div id="mdChatMessages">
          <div class="chat-box-md">
            <b>HR:</b> Monthly report has been submitted for your review.
          </div>
          <div class="chat-box-md">
            <b>HOD Science:</b> Requesting approval for new lab equipment.
          </div>
        </div>
        <input class="form-control mt-2" id="mdChatInput" placeholder="Type a message...">
        <button class="btn btn-sm btn-success mt-2" onclick="sendMDChat()">Send</button>
        <div id="mdChatStatus" class="mt-2"></div>
      </div>

      <!-- Reports Section -->
      <div class="summary-card">
        <h4 class="section-title"><i class="bi bi-file-earmark-text me-2"></i>Reports Overview</h4>
        <ul>
          <li><a href="../reports.html" target="_blank">View Full HR Reports</a></li>
          <li><a href="../salary.html" target="_blank">View Salary Sheet</a></li>
          <li><a href="../attendence.html" target="_blank">View Attendance Sheet</a></li>
          <li><a href="../employee.html" target="_blank">View Employee Profiles</a></li>
        </ul>
      </div>

      <!-- Complaints Section -->
      <div class="summary-card">
        <h4 class="section-title"><i class="bi bi-exclamation-triangle me-2"></i>Complaints Box</h4>
        <ul class="list-group complaint-list" id="mdComplaintList">
          <li class="list-group-item">
            <b>Teacher:</b> Request for projector repair in Room 12.
          </li>
          <li class="list-group-item">
            <b>Student:</b> Water cooler not working in Block B.
          </li>
          <li class="list-group-item">
            <b>Parent:</b> Request for PTM schedule update.
          </li>
          <li class="list-group-item">
            <b>HOD English:</b> Need more English workbooks.
          </li>
        </ul>
      </div>

      <!-- Student Performance Section -->
      <div class="summary-card">
        <h4 class="section-title"><i class="bi bi-graph-up-arrow me-2"></i>Student Performance (Class-wise)</h4>
        <div class="table-responsive">
          <table class="table table-bordered performance-table">
            <thead class="table-secondary">
              <tr>
                <th>Class</th>
                <th>Average Marks</th>
                <th>Attendance %</th>
                <th>Top Performer</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>Class 1</td><td>78</td><td>95%</td><td>Student 1</td></tr>
              <tr><td>Class 2</td><td>81</td><td>96%</td><td>Student 5</td></tr>
              <tr><td>Class 3</td><td>76</td><td>94%</td><td>Student 2</td></tr>
              <tr><td>Class 4</td><td>80</td><td>97%</td><td>Student 7</td></tr>
              <tr><td>Class 5</td><td>83</td><td>98%</td><td>Student 3</td></tr>
              <tr><td>Class 6</td><td>79</td><td>95%</td><td>Student 4</td></tr>
              <tr><td>Class 7</td><td>82</td><td>96%</td><td>Student 8</td></tr>
              <tr><td>Class 8</td><td>77</td><td>93%</td><td>Student 6</td></tr>
              <tr><td>Class 9</td><td>85</td><td>97%</td><td>Student 9</td></tr>
              <tr><td>Class 10</td><td>88</td><td>98%</td><td>Student 10</td></tr>
              <tr><td>Class 11</td><td>84</td><td>96%</td><td>Student 11</td></tr>
              <tr><td>Class 12</td><td>86</td><td>97%</td><td>Student 12</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Teacher Performance Section -->
      <div class="summary-card">
        <h4 class="section-title"><i class="bi bi-person-badge me-2"></i>Teacher Performance (Per HOD)</h4>
        <div class="table-responsive">
          <table class="table table-bordered performance-table">
            <thead class="table-secondary">
              <tr>
                <th>HOD</th>
                <th>Department</th>
                <th>Avg. Teacher Rating</th>
                <th>Best Teacher</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>Mrs. Anjali Sharma</td><td>Mathematics</td><td>4.8</td><td>Mr. Rakesh Gupta</td></tr>
              <tr><td>Mr. Rajeev Sinha</td><td>Science</td><td>4.7</td><td>Mrs. Sneha Patel</td></tr>
              <tr><td>Mrs. Priya Verma</td><td>English</td><td>4.6</td><td>Ms. Neha Singh</td></tr>
              <tr><td>Mr. Amit Kumar</td><td>Chemistry</td><td>4.5</td><td>Mr. Amit Kumar</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function sendMDChat() {
      const chat = document.getElementById('mdChatInput').value.trim();
      if(chat) {
        const box = document.createElement('div');
        box.className = 'chat-box-md';
        box.innerHTML = `<b>You:</b> ${chat}`;
        document.getElementById('mdChatMessages').appendChild(box);
        document.getElementById('mdChatInput').value = '';
        document.getElementById('mdChatStatus').innerHTML = '<span class="text-success">Message sent!</span>';
      } else {
        document.getElementById('mdChatStatus').innerHTML = '<span class="text-danger">Type a message first.</span>';
      }
      setTimeout(() => { document.getElementById('mdChatStatus').innerHTML = ''; }, 2000);
    }
  </script>
  <script>
  function sendChat(role, name, message) { /* ... */ }
  function loadChats() { /* ... */ }
</script>
</body>
</html>